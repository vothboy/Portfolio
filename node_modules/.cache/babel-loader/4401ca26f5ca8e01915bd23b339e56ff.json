{"ast":null,"code":"import { isFunction } from \"@chakra-ui/utils\";\nimport * as ReactDOM from \"react-dom\";\n/** This is a workaround for React Concurrent Mode issue https://github.com/facebook/react/issues/18591. Remove once it's fixed. */\n\nexport function withFlushSync(fn) {\n  return function (event) {\n    var flushSync = ReactDOM.flushSync;\n\n    if (isFunction(flushSync)) {\n      flushSync(function () {\n        fn(event);\n      });\n    } else {\n      fn(event);\n    }\n  };\n}","map":{"version":3,"sources":["../../src/flush-sync.ts"],"names":["event","flushSync","ReactDOM","isFunction","fn"],"mappings":"AAAA,SAAA,UAAA,QAAA,kBAAA;AACA,OAAO,KAAP,QAAA,MAAA,WAAA;AAEA;;AACA,OAAO,SAAA,aAAA,CAAA,EAAA,EAAuD;AAC5D,SAAQA,UAAAA,KAAD,EAA6B;AAClC,QAAMC,SAAS,GAAIC,QAAD,CAAlB,SAAA;;AAGA,QAAIC,UAAU,CAAd,SAAc,CAAd,EAA2B;AACzBF,MAAAA,SAAS,CAAC,YAAM;AACdG,QAAAA,EAAE,CAAFA,KAAE,CAAFA;AADFH,OAAS,CAATA;AADF,KAAA,MAIO;AACLG,MAAAA,EAAE,CAAFA,KAAE,CAAFA;AACD;AAVH,GAAA;AAYD","sourcesContent":["import { AnyFunction, isFunction } from \"@chakra-ui/utils\"\nimport * as ReactDOM from \"react-dom\"\n\n/** This is a workaround for React Concurrent Mode issue https://github.com/facebook/react/issues/18591. Remove once it's fixed. */\nexport function withFlushSync<T extends AnyFunction>(fn: any) {\n  return (event: Parameters<T>[0]) => {\n    const flushSync = (ReactDOM as any).flushSync as\n      | ((fn: AnyFunction) => void)\n      | undefined\n    if (isFunction(flushSync)) {\n      flushSync(() => {\n        fn(event)\n      })\n    } else {\n      fn(event)\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}
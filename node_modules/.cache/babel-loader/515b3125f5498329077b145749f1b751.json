{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _token = require(\"./token\");\n\nvar FEATURE_ID = {\n  SESSIONRECOVERY: 0x01,\n  FEDAUTH: 0x02,\n  COLUMNENCRYPTION: 0x04,\n  GLOBALTRANSACTIONS: 0x05,\n  AZURESQLSUPPORT: 0x08,\n  TERMINATOR: 0xFF\n};\n\nfunction featureExtAckParser(parser, _colMetadata, _options, callback) {\n  var fedAuth;\n\n  function next() {\n    parser.readUInt8(function (featureId) {\n      if (featureId === FEATURE_ID.TERMINATOR) {\n        return callback(new _token.FeatureExtAckToken(fedAuth));\n      }\n\n      parser.readUInt32LE(function (featureAckDataLen) {\n        parser.readBuffer(featureAckDataLen, function (featureData) {\n          if (featureId === FEATURE_ID.FEDAUTH) {\n            fedAuth = featureData;\n          }\n\n          next();\n        });\n      });\n    });\n  }\n\n  next();\n}\n\nvar _default = featureExtAckParser;\nexports.default = _default;\nmodule.exports = featureExtAckParser;","map":null,"metadata":{},"sourceType":"script"}